
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>New version of nullabor package released</title>
    <meta name="description" content="This is a post is related to inference for graphics and exploratory data analysis">
    <meta name="author" content="">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap styles -->
    <link href="/assets/themes/bootstrap-3/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Optional theme -->
    <link href="/assets/themes/bootstrap-3/bootstrap/css/bootstrap-theme.min.css" rel="stylesheet">
    <!-- Sticky Footer -->
    <link href="/assets/themes/bootstrap-3/bootstrap/css/bs-sticky-footer.css" rel="stylesheet">
    
    <!-- Custom styles -->
    <link href="/assets/themes/bootstrap-3/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!-- Update these with your own images
      <link rel="shortcut icon" href="images/favicon.ico">
      <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
      <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
      <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
    -->

    <!-- atom & rss feed -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

  </head>

  <body>
    <div id="wrap">
      <nav class="navbar navbar-default" role="navigation">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#jb-navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/"></a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="jb-navbar-collapse">
          <ul class="nav navbar-nav">
	    <a href="/blog.html"> <h2>Visiphilia Home</h2> </a>
            
            
            


  
    
      
      	
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  
    
      
    
  
    
  
    
      
      	
      	<li><a href="/categories.html">Categories</a></li>
      	
      
    
  
    
  
    
      
    
  
    
  
    
  
    
  
    
      
      	
      	<li><a href="/pages.html">Pages</a></li>
      	
      
    
  
    
  
    
      
    
  
    
      
    
  
    
  
    
      
      	
      	<li><a href="/tags.html">Tags</a></li>
      	
      
    
  
    
  



          </ul>
          <form class="navbar-form navbar-right" role="search">
            <div class="form-group">
              <input type="text" class="form-control" placeholder="Search">
            </div>
            <button type="submit" class="btn btn-default">Submit</button>
          </form>
        </div><!-- /.navbar-collapse -->
      </nav>

      <div class="container">
        
<html>
  <head>
    <link rel="stylesheet" href="css/blogstyle.css" type="text/css" />
  </head>

<div class="page-header">
  <h1>New version of nullabor package released </h1>
</div>

<div class="row post-full">
  <div class="col-xs-12">
    <div class="date">
      <span>03 November 2014</span>
    </div>
    <div class="content">
      <p>The new version of nullabor contains numerical measures that quantify how close the plot of the data is to the null plots in a lineup. It is very difficult to quantify all patterns that might be read from plots, so these should be taken in a spirit ofa Herculean task.   The goal is to get some sense of what people are reacting to in a plot, which could be then associated with the text descriptions from people, or with data from an eyetracker.</p>

<p>To illustrate the use of the package, for doing inference using graphics, we adapt an example fro elementary statistics on the color distribution in packs of skittles<sup>TM</sup>. Skittles come in different flavored bags - we will use the Wildberry packs, which have purple, red, blue, pink, and green. According to  <a href="http://www.ask.com/food/percentages-colors-skittles-bag-4ba965c64554571f?qo=questionPageSimilarContent">http://www.ask.com</a>.</p>

<p><em>"In a batch of candies produced in the Skittles factory, there are equal amounts of the five colors all mixed together before being packaged into separate bags. Consequently, each color should represent approximately 20 percent of any one skittles bag."</em></p>

<p>In 2.17oz bags there are supposed to be 56 skittles on average, give or take some deformities. We can use R to simulate the distribution of colors in a bag of skittles, assuming each color is packed with equal proportion, 20%, and use Alyssa Frazee's RSkittleBrewer package to color the plot of the data to match the candy colors.</p>

<p><img src="http://dicook.github.io/assets/skittles-one-pack.png" alt="&quot;skittles bag&quot;" /></p>

<p>There were 15, 9, 10, 9, 13 purple, red, blue, pink, green skittles, with proportions 0.27, 0.16, 0.18, 0.16, 0.23 respectively. If you were to just look at this distribution, particularly if you don't like the purple color, you might be tempted to think the Mars company is conspiring against you to put more purple skittles  into the packs.</p>

<p>In an early statistics class, this might be tested using a hypothesis test:</p>

<p>Ho: p1=p2=p3=p4=p5 vs Ha: Not all equal</p>

<p>by calculating a X<sup>2</sup> test statistic with expected counts for each color equal to 11.2:</p>

<p>X<sup>2</sup>=2.571, df=4, p-value=0.63. This is a large p-value, so you would conclude that there is no evidence to reject Ho, and you would conclude that the packs are actually produced using an equal proportion of all colors.</p>

<p>This requires that the audience knows a little statistics, and understands the logic behind hypothesis testing. If we were to examine the problem using the lineup protocol from visual inference, we would generate another 19 data sets from the null distribution and plot these along with the plot of the data. You would ask <strong>which of the 20 plots is the most different from the others</strong> (a little more general than asking specifically about the purple count, which enables more general discoveries of unexpected patterns).</p>

<p><img src="http://dicook.github.io/assets/skittles-lineup1.png" alt="&quot;skittles lineup 1&quot;" /></p>

<p>Your bag is in position 19. There is a lot of variation from one plot to another, which happens when sampling from a uniform distribution. It is not unusual to obtain 15 of one color in a pack. Sampling does not yield a flat distribution each time, numbers of each category can vary wildly in packs of size 56.</p>

<p>If you are not convinced, here is a new example. Technically, you should not view a lineup of your plotted data, after you have already seen your data. It will always stand out because you recognize it. This time, you have not been told which bag was yours, so you are asked to find the plot among the 20 which has the strangest distribution, as a way to find your bag. We'll tell you which is yours after you pick, but the answer is at the bottom of this page.</p>

<p><img src="http://dicook.github.io/assets/skittles-lineup2.png" alt="&quot;skittles lineup 2&quot;" /></p>

<p>Among the bag counts, there are bags with as few as 1 purple skittle, and as many as 19. There is a bag with 19 red skittles, and yet another with 19 pink skittles, and oh, there is a bag with 20 blue skittles. The numbers of each color vary wildly from bag to bag.</p>

<p>Let's switch up the scenario. Suppose you really are right, that the Mars company is filling bags with twice as many purple skittles as any other color. What would this look like? Here's a lineup of your bag of skittles, where the company has filled it with a higher proportion of purple, compared with counts for bags filled using equal numbers. <strong>Pick the plot that is the most different.</strong></p>

<p><img src="http://dicook.github.io/assets/skittles-lineup3.png" alt="&quot;skittles lineup 3&quot;" /></p>

<p>If we were to conduct the hypothesis test for this data, the details would be:</p>

<p> X<sup>2</sup>=19, df=4, p-value=0.0008</p>

<p>which would result in rejecting the null hypothesis and concluding that Mars was filling bags with too many purples. The actual proportions used to generate the data were 50% purple, and 12.5% for the other colors. The resulting samples look quite different in the plots, from those that were generated under the assumption that all colors are packed equally.</p>

<p>Using the lineup protocol is similar to the Sesame Street task, "one of these things is not like the other". It enables illustrating statistical significance or lack of it, with less technical detail than the traditional hypothesis testing requires, and opens the door to many more problems where assumptions underlying formal hypothesis testing are not satisfied.</p>

<p>The second paragraph from  <a href="http://www.ask.com/food/percentages-colors-skittles-bag-4ba965c64554571f?qo=questionPageSimilarContent">http://www.ask.com</a> provides more details on sampling variability:</p>

<p><em>"However, due to occasional errors in the mixing process, each small sample of the overall batch will likely have deviations from the 20 percent that each color should represent. In a perfect world, the candy batch would be completely uniform before packaging, resulting in the perfect proportion of Skittles for each bag. Because errors result in minor deviations, Skittles' consumers can expect to have anywhere from a 15 to 23 percent composition of any color when they open their bag."</em></p>

<p>The nullabor package makes it easy to generate lineups. Details on the package can be found <a href="http://cran.r-project.org/web/packages/nullabor/index.html">here</a>.</p>

<p>The position of the actual data plot in the latter two lineups were 17 and 7, respectively.</p>

    </div>

    

  
    <ul class="tag_box inline">
      <li><i class="glyphicon-tags"></i></li>
      
      


  
     
    	<li><a href="/tags.html#education-ref">education <span>8</span></a></li>
     
    	<li><a href="/tags.html#business analytics-ref">business analytics <span>4</span></a></li>
     
    	<li><a href="/tags.html#data visualization-ref">data visualization <span>7</span></a></li>
     
    	<li><a href="/tags.html#lineups-ref">lineups <span>3</span></a></li>
     
    	<li><a href="/tags.html#EDA-ref">EDA <span>3</span></a></li>
     
    	<li><a href="/tags.html#data mining-ref">data mining <span>3</span></a></li>
     
    	<li><a href="/tags.html#R-ref">R <span>5</span></a></li>
     
    	<li><a href="/tags.html#statistical computing-ref">statistical computing <span>5</span></a></li>
     
    	<li><a href="/tags.html#statistical graphics-ref">statistical graphics <span>3</span></a></li>
    
  



    </ul>
    
  
    <hr>
    <ul class="pagination">
    
      <li class="prev"><a href="/2014/10/16/diversity" title="Diversity">&laquo; Previous</a></li>
    
      <li><a href="/archive.html">Archive</a></li>
    
      <li class="next"><a href="/2014/11/16/eda-at-the-un" title="EDA at the UN">Next &raquo;</a></li>
    
    </ul>
    <hr>
    


  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'visiphilia'; // required: replace example with your forum shortname
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>




  </div>
</div>


      </div>

    </div>

    <div id="footer">
      <div class="container">
        <p>&copy; 2015 
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
        </p>
      </div>
    </div id="footer">

    


    <!-- Latest compiled and minified JavaScript, requires jQuery 1.x (2.x not supported in IE8) -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="/assets/themes/bootstrap-3/bootstrap/js/bootstrap.min.js"></script>
  </body>
</html>

